// Firebase Storage Security Rules for Comparium
// Copy these rules to: Firebase Console > Storage > Rules
//
// To apply:
// 1. Go to https://console.firebase.google.com/project/comparium-21b69/storage
// 2. Click the "Rules" tab
// 3. Replace the content with these rules
// 4. Click "Publish"

rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    // Images folder - public read, authenticated write
    // TODO: After Phase 3, change write rule to admin-only pattern:
    //   allow write: if request.auth != null &&
    //     get(/databases/$(database)/documents/users/$(request.auth.uid)).data.admin == true;
    match /images/{allPaths=**} {
      allow read: if true;
      allow write: if request.auth != null;
    }
  }
}
